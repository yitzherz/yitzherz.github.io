(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),i=n(7),s=n.n(i),o=(n(15),n(6)),p=n.n(o),u=n(9),l=n(8),b=n(2);n(17);function h(e){var t=e.error,n=e.setError;return Object(a.useEffect)((function(){var e=setTimeout((function(){n("")}),2500);return function(){clearTimeout(e)}})),Object(c.jsx)("div",{children:t&&Object(c.jsx)("div",{style:{color:"red",fontSize:"1.5em"},children:t})})}function j(e){var t=e.weatherData,n=t.city,a=t.state,r=t.degrees,i=t.description,s=t.icon;return Object(c.jsxs)("div",{className:"weatherDiv",children:[Object(c.jsxs)("h2",{children:[n,", ",a," Weather "]}),Object(c.jsxs)("div",{children:["As of ",(new Date).toLocaleTimeString()]}),Object(c.jsx)("div",{style:{fontSize:"4em"},children:r}),Object(c.jsx)("img",{src:s,alt:"pic unavailable"}),Object(c.jsx)("h3",{children:i})]})}function d(e){var t=e.recentData,n=e.setNewZip,a=t.zip,r=t.city,i=t.degrees;return Object(c.jsxs)("div",{className:"recentZip",onClick:function(){return n(a)},children:[r," ",a,"   ",i]})}function f(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){N()}),[n]);var i=Object(a.useState)(""),s=Object(b.a)(i,2),o=s[0],f=s[1],m=Object(a.useState)(null),O=Object(b.a)(m,2),g=O[0],v=O[1],x=Object(a.useState)(""),w=Object(b.a)(x,2),S=w[0],y=w[1],k=Object(a.useState)(""),z=Object(b.a)(k,2),D=z[0],C=z[1],N=function(){var e=Object(l.a)(p.a.mark((function e(t){var c,a,i,s,l,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),!((c=n||o)<5)){e.next=4;break}return e.abrupt("return");case 4:return v(null),f(""),r(""),"cb7c71219cf09eb0bb414b932669be97","imperial",e.prev=9,e.next=12,fetch("https://api.openweathermap.org/data/2.5/weather?appid=".concat("cb7c71219cf09eb0bb414b932669be97","&zip=").concat(c,"&units=").concat("imperial"));case 12:return(a=e.sent).ok||y("Something went wrong"),e.next=16,a.json();case 16:if("404"!==(i=e.sent).cod){e.next=20;break}return y(i.message),e.abrupt("return");case 20:return e.next=22,fetch("https://api.zippopotam.us/us/".concat(c));case 22:return s=e.sent,e.next=25,s.json();case 25:l=e.sent,D?(b=D.filter((function(e){return e.zip!==c})),C([].concat(Object(u.a)(b),[{zip:c,city:i.name,degrees:"".concat(i.main.temp.toString().split(".")[0],"\xb0")}]))):C([{zip:c,city:i.name,degrees:"".concat(i.main.temp.toString().split(".")[0],"\xb0")}]),v({city:i.name,state:l.places[0].state,icon:"https://openweathermap.org/img/wn/".concat(i.weather[0].icon,".png"),degrees:"".concat(i.main.temp.toString().split(".")[0],"\xb0"),description:"".concat(i.weather[0].description)}),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(9),y("Something went wrong");case 33:case"end":return e.stop()}}),e,null,[[9,30]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"React Weather App"}),Object(c.jsx)("p",{className:"app-description",children:"This Weather App uses Html, CSS, Javascript and the REACT framework with multiple API's to get the data and has the ability to view recent searches"}),Object(c.jsx)("form",{onSubmit:N,children:Object(c.jsx)("input",{className:"search-input",value:o,placeholder:"Search Zip Code",onChange:function(e){/^\d$/.test(e.target.value.slice(-1))&&f(e.target.value)},onKeyDown:function(e){"Backspace"===e.key&&1===o.length&&f("")}})}),g&&Object(c.jsx)(j,{weatherData:g}),S&&Object(c.jsx)(h,{error:S,setError:y}),Object(c.jsxs)("div",{className:"recentsDiv",children:[D&&Object(c.jsx)("span",{style:{color:"#0926f9",fontSize:"1.5em",display:"inline-block",marginBottom:".3em"},children:"Recent Searches"}),D&&D.map((function(e){return Object(c.jsx)(d,{recentData:e,setNewZip:r},e.zip)}))]})]})}var m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root")),m()}},[[18,1,2]]]);
//# sourceMappingURL=main.636627a9.chunk.js.map